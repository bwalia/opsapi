# Docker Compose override for CI/CD deployments
# This file removes development volume mounts and changes conflicting ports
#
# Usage: docker compose -f docker-compose.yml -f docker-compose.override.ci.yml up --build -d

services:
  lapis:
    # Remove the volume mount that overrides the container's /app
    # In CI/CD, we want to use the files baked into the Docker image
    volumes:
      - ./logs:/var/log/nginx
      # Note: .:/app is intentionally NOT included here

  prometheus:
    # Change port to avoid conflicts with existing services on the server
    ports:
      - "9099:9090"
